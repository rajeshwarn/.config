!function(){"use strict";function e(e){return new Promise(function(n){function t(i){var r=i.data;r.requestId===e&&(window.removeEventListener("message",t),n(r.result))}window.addEventListener("message",t)})}function n(e){chrome.windows.create({type:"panel",url:e.url,height:e.height||500,width:e.width||500}),bmRuntime.runningInExtensionPopup&&window.close()}function t(e){window.chrome.tabs.create({url:e}),bmRuntime.runningInExtensionPopup&&window.close()}function i(e,n){n.classList.toggle("bm-ele--loading","on"===e)}function r(){var e=0;return(bmRuntime.portalOnSide||bmRuntime.runningInExtensionPopup)&&e++,bmRuntime.portalOnSide||(e++,g.signedIn?bmRuntime.servicePageData.notifications&&e++:e++,bmRuntime.servicePageData.portal&&e++),e}function u(e){var n=e.year,t=e.month,i=e.day;if(n===d&&t===f){if(i===l)return v;if(l-i===1)return b;if(l-i===-1)return h}var r=w[t-1];if(n!==d)return r+" "+i+", "+n;var u=new Date(n,t,i),o=p[u.getDay()];return o+", "+r+" "+i}function o(e){return e?e>9?e.toString():"0"+e.toString():"00"}function a(e){if(!e.hasOwnProperty("time"))return null;var n=o(e.time.hour),t=o(e.time.minute);return n+":"+t}function m(e){if(e.unspecifiedFutureTime)return"Someday";var n=a(e),t=u(e);return!n||e.allDay?t:t+", "+n}function s(e){var n=e[0],t=e[1],i=e[2];if(n===d&&t===f-1){if(i===l)return v;if(l-i===1)return b;if(l-i===-1)return h}return i+" "+w[t]+(n!==d?" "+n:"")}var c=new Date,d=c.getFullYear(),f=c.getMonth()+1,l=c.getDate(),w=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],p=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],v="Today",b="Yesterday",h="Tomorrow";window.bmBasics={openPanel:n,openTab:t,onRequestReceived:e,toggleLoading:i,getMainToolbarButtonCount:r,createDate:s,dateTime:{display:{date:u,time:a,dateTime:m}}}}();