!function(){"use strict";function e(e){window.parent.postMessage({blackMenuOpenUrl:e},"*")}function t(e){var t=new URL(e),a=t.origin+t.pathname,n=t.search.replace("?","").split("&").filter(function(e){return!e.startsWith("bm_")}).join("&");n.length>2&&(a+="?"+n);var r=t.hash;return r.startsWith("#")&&(r=r.replace("#","")),r.length>1&&(a+="#"+r),a}var a=document.createElement("div");a.addEventListener("click",function(){var a=t(location.href);e(a)}),a.className="bm-open-in-new";var n=document.querySelectorAll("div[role='button'][jscontroller][jsaction][jsshadow][jsname][aria-label][aria-disabled='false'][tabindex='0'][data-tooltip][aria-haspopup='true'][aria-expanded='false'][data-alignright='true'][data-aligntop='true'][data-tooltip-vertical-offset][data-tooltip-horizontal-offset]")[1];n?n.parentNode.insertBefore(a,n):document.querySelector("c-wiz[data-node-index][jsaction] > div > div[role='menubar']").appendChild(a),window.addEventListener("message",function(a){var n=a.data,r=n.method;if("photosOpenInNew"===r){var i=t(location.href);e(i)}})}();