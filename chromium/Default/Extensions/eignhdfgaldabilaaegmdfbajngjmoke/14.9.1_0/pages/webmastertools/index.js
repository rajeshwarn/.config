cjModules.define(function(){"use strict";return function(e,n){function t(n){if(n&&"notAuthorized"===n.error&&v===!1){v=!0;var t=bmElements.createElement("fulldialog",{serviceLogo:{label:cjExtensions.i18n("cj_i18n_00444","Search Console")},iconName:"search_console",message:cjExtensions.i18n("cj_i18n_00284","Before you can use this page, you need to give access to Google Search Console"),actionLabel:cjExtensions.i18n("cj_i18n_00224","Give permission"),action:n.authorize});e.appendChild(t)}}function a(){var e=g.account.pageid,n=g.account.authuser,t="https://search.google.com/";return"0"!==n&&(t+="u/"+n+"/"),"none"!==e&&(t+="b/"+e+"/"),t}function o(e,n){return cjBasics.urls.create(a()+"search-console/"+n,{bm_contentscript:"searchconsole",bm_embed:"1",bm_fix_embed:"1",bm_namespace:"search_console_SearchConsoleUi",bm_instance:Date.now(),bm_functionnames:e,hl:g.lang})}function c(){var e=cjMaterial.createElement("appbar",{color:"#455a64",secondary:!0}),n=cjMaterial.createElement("iconbutton",{iconName:"__mdi:menu",onClick:function(){_.open()}});return e.appendChild(n),b=cjMaterial.createElement("title",{label:cjExtensions.i18n("cj_i18n_00291","Home")}),e.appendChild(b),e}function s(){var e=cjMaterial.createElement("drawer",{color:"#455a64"}),n=bmElements.createElement("servicelogo",{label:cjExtensions.i18n("cj_i18n_00444","Search Console"),color:"#455a64"});e.appendChild(n);var t=bmElements.createElement("drawertabs",{items:h,onChange:function(e){p.selected=e,b.textContent=h[e].label},selected:"home"});return e.appendChild(t),e}function i(){return g.request({scope:j,dataType:"JSON",url:E+"sites",hl:g.lang}).then(function(e){return e.siteEntry},t)}function r(n){i().then(function(t){if(t&&t.length>0){var a=cjMaterial.createElement("list");t.forEach(function(e){var n=cjMaterial.createElement("item");n.addEventListener("click",function(){var n=cjBasics.urls.create(w+"dashboard",{authuser:g.account.authuser,siteUrl:e.siteUrl});bmBasics.openTab(n)});var t=cjMaterial.createElement("icon",{favicon:e.siteUrl});n.appendChild(t);var o=document.createElement("div");o.className="cj-md-item__body";var c=document.createElement("div");c.className="cj-md-item__header",c.textContent=e.siteUrl,o.appendChild(c);var s=document.createElement("div");s.className="cj-md-secondarytext",s.textContent=e.permissionLevel,o.appendChild(s),n.appendChild(o),a.appendChild(n)}),n.appendChild(a)}else{var o=cjMaterial.createElement("emptystate",{label:cjExtensions.i18n("cj_i18n_00055","No sites found"),iconName:"__mdi:cj_drive_sites",color:"#455a64"});n.appendChild(o)}bmBasics.toggleLoading("off",e)})}function l(e){var n=cjMaterial.createElement("list");x.forEach(function(e){var t=cjMaterial.createElement("item",{divider:!0});t.addEventListener("click",function(){var n=e.url+(-1!==e.url.indexOf("?")?"&":"?")+"authuser="+g.account.authuser;bmBasics.openTab(n)});var a=document.createElement("div");a.className="cj-md-item__body";var o=document.createElement("div");o.className="cj-md-item__header",o.textContent=e.label,a.appendChild(o);var c=document.createElement("div");c.className="cj-md-secondarytext cj-md-item__body-item--no-overflow",c.textContent=e.description,a.appendChild(c),t.appendChild(a),n.appendChild(t)}),e.appendChild(n)}function m(e){gFunctionNames.get({cacheName:"function-names-searchconsole",fallback:"Wd,Jd,Nd,Kd",refreshUrl:"https://search.google.com/search-console/amp"}).then(function(n){var t=bmElements.createElement("iframe",{src:o(n.functionNames,"amp")}),a=0;t.iframeElement.addEventListener("load",function(){10>a&&t.iframeElement.contentWindow.location.href.startsWith("about:")&&(a++,setTimeout(function(){t.src=t.src.replace("bm_instance=","bm_instance=a")},100))}),e.appendChild(t),n.refreshPromise.then(function(e){a=0,t.src=o(e,"amp")})})}function u(e){gFunctionNames.get({cacheName:"function-names-searchconsole",fallback:"Wc,Gc,Jc,Hc",refreshUrl:"https://search.google.com/search-console/mobile-friendly"}).then(function(n){var t=bmElements.createElement("iframe",{src:o(n.functionNames,"mobile-friendly")}),a=0;t.iframeElement.addEventListener("load",function(){10>a&&t.iframeElement.contentWindow.location.href.startsWith("about:")&&(a++,setTimeout(function(){t.src=t.src.replace("bm_instance=","bm_instance=a")},100))}),e.appendChild(t),n.refreshPromise.then(function(e){a=0,t.src=o(e,"mobile-friendly")})})}function d(){h={home:{iconName:"__mdi:home",label:cjExtensions.i18n("cj_i18n_00291","Home"),afterLoad:r,newTabUrl:w+"?authuser="+g.account.authuser},resources:{iconName:"__mdi:build",label:cjExtensions.i18n("cj_i18n_00286","Other resources"),afterLoad:l,newTabUrl:w+"other-links-sc?authuser="+g.account.authuser},mobileFriendlyTest:{iconName:"__mdi:smartphone",label:cjExtensions.i18n("cj_i18n_00287","Mobile-Friendly Test"),afterLoad:u,content:function(){return cjMaterial.createElement("container")},newTabUrl:"https://search.google.com/u/"+g.account.authuser+"/search-console/mobile-friendly"},ampTest:{iconName:"__mdi:smartphone",label:cjExtensions.i18n("cj_i18n_00288","AMP Test"),afterLoad:m,content:function(){return cjMaterial.createElement("container")},newTabUrl:"https://search.google.com/u/"+g.account.authuser+"/search-console/amp"}},bmBasics.toggleLoading("on",e);var t=bmElements.createElement("pageheader",{color:"#455a64",pageId:"webmastertools",searchboxProperties:{onSubmit:function(e){bmBasics.openTab("https://support.google.com/webmasters/search?authuser="+g.account.authuser+"&q="+e)},submitInNewTab:!0}});_=s();var a=c();e.appendChild(t),f(t.searchbox.select),e.appendChild(a),e.appendChild(_),p=bmElements.createElement("multiplecontainer",{items:h,selected:"home"}),e.appendChild(p),n.setOpenInNewHandler(function(){bmBasics.openTab(h[p.selected].newTabUrl)})}var h,p,_,b,f=n.onPageDisplay,j=["https://www.googleapis.com/auth/webmasters.readonly"],E="https://www.googleapis.com/webmasters/v3/",w="https://www.google.com/webmasters/tools/",v=!1,x=[{url:w+"richsnippets",label:cjExtensions.i18n("cj_i18n_00270","Structured Data Testing Tool"),description:cjExtensions.i18n("cj_i18n_00277","Use the Structured Data Testing Tool to check that Google can correctly parse your structured data markup and display it in search results.")},{url:"https://www.google.com/webmasters/markup-helper?hl=en",label:cjExtensions.i18n("cj_i18n_00271","Structured Data Markup Helper"),description:cjExtensions.i18n("cj_i18n_00278","Not sure how to start with adding structured data markup to your HTML? Try this point-and-click tool.")},{url:"https://www.google.com/webmasters/markup-tester?hl=en",label:cjExtensions.i18n("cj_i18n_00272","Email Markup Tester"),description:cjExtensions.i18n("cj_i18n_00279","Validate the structured data contents of an HTML email using Email Markup Tester.")},{url:"https://www.google.com/placesforbusiness",label:cjExtensions.i18n("cj_i18n_00273","Google Places"),description:cjExtensions.i18n("cj_i18n_00280","97% of consumers search for local businesses online. Be there when they're looking for you with Google Places for business - a free local platform from Google.")},{url:"https://www.google.com/merchants",label:cjExtensions.i18n("cj_i18n_00274","Google Merchant Center"),description:cjExtensions.i18n("cj_i18n_00281","The place to upload your product data to Google and make it available to Google Product Search and other Google services.")},{url:"https://developers.google.com/speed/pagespeed/insights/?hl=en&utm_source=wmx&utm_campaign=wmx_otherlinks",label:cjExtensions.i18n("cj_i18n_00275","PageSpeed Insights"),description:cjExtensions.i18n("cj_i18n_00282","Use PageSpeed Insights to find out how to make your web pages fast on all devices.")},{url:"https://www.google.com/cse/create/new?hl=en&cselang=en&utm_source=wmx",label:cjExtensions.i18n("cj_i18n_00276","Custom Search"),description:cjExtensions.i18n("cj_i18n_00283","Harness the power of Google to create a customized search experience for your own website.")}];d()}});