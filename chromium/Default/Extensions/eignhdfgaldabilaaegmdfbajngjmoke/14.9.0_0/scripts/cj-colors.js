!function(){"use strict";function t(t){return new Promise(function(e){function r(){e(n),n.removeEventListener("load",r)}var n=new Image;n.crossOrigin="",n.addEventListener("load",r),n.src=t})}function e(t){var e=t.ownerDocument,r=e.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=r.getContext("2d"),a=[],o=r.width=t.naturalWidth||t.offsetWidth,i=r.height=t.naturalHeight||t.offsetHeight;n.drawImage(t,0,0);for(var f=n.getImageData(0,0,o,i).data,h=0,u=[],l=[],s=[],c=0,d=0,g=0,v=0;v<f.length;v+=4){var w=f[v],m=f[v+1],p=f[v+2],x=f[v+3];255!==x&&(w*=x/255,m*=x/255,p*=x/255),(0!==w||0!==m||0!==p||0!==x)&&(c+=w,d+=m,g+=p,h++,(w!==m||m!==p)&&(-1===u.indexOf(w)&&u.push(w),-1===l.indexOf(m)&&l.push(m),-1===s.indexOf(p)&&s.push(p),a.push([Math.floor(w),Math.floor(m),Math.floor(p)])))}var M;if(a.length>0){var N,I=Math.max(u.length,l.length,s.length);switch(I){case u.length:N=0;break;case l.length:N=1;break;default:N=2}a=a.sort(function(t,e){return e[N]-t[N]}),M=a[Math.floor(a.length/2)]}else c=Math.floor(c/h),d=Math.floor(d/h),g=Math.floor(g/h),M=[c,d,g];if(isNaN(M[0])||isNaN(M[1])||isNaN(M[2]))throw new Error("No colour found.",M);return r.remove(),t.remove(),M}function r(t){return(299*t[0]+587*t[1]+114*t[2])/1e3<128}function n(n){return t(n).then(function(t){var n=e(t);return{rgb:n,css:"rgb("+n.join(",")+")",dark:r(n)}})}function a(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,r,n){return e+e+r+r+n+n});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:null}window.cjColors={getDominantColor:n,getContrastColor:r,hexToRgb:a}}();