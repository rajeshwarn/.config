cjModules.define(function(){"use strict";return function(e,a){function n(e,a){return cjExtensions.cache.get("bm__cache__news__"+e+"-"+a)}function l(e){return cjBasics.ajax({dataType:"JSON",url:cjBasics.urls.create("https://www.google.com/complete/search",{client:"serp",authuser:g.account.authuser,xhr:"t",q:e,hl:g.lang,ds:"n"})})}function t(e){var a=Date.now();l(e).then(function(e){if(!(w>a)){w=a,M.textContent="";var n=e[1];if(n.length>0){for(var l=0;l<n.length;l++){var t,i=n[l],s=i[0],c=i[3];c&&c.b&&c.c?(s+="– "+c.b,t=c.c):t=s.split("<b>").join("").split("</b>").join("");var r=cjMaterial.createElement("item");r.dataset.value=t,r.innerHTML=s,M.appendChild(r)}L.searchmenu.show()}else L.searchmenu.hide()}})}function i(e){var a="undefined"!=typeof e.q;return a||e.noCache===!0?(f={output:"rss",topic:e.topic,q:e.q,ned:e.ned,fg:"1",gws_rd:"cr"},cjBasics.ajax({url:cjBasics.urls.create("https://news.google.com/",f),dataType:"XML"}).then(function(n){for(var l={items:[]},t=n.querySelectorAll("rss > channel > item"),i=0;i<t.length;i++){var s=t[i],c={};c.title=s.getElementsByTagName("title")[0].textContent.split(" - ")[0],c.url=s.getElementsByTagName("link")[0].textContent;var r=s.getElementsByTagName("description")[0].textContent,o=document.createElement("div");o.innerHTML=r.replace(/src\=\"\//g,'src="https://'),o.getElementsByTagName("img")[0]&&o.getElementsByTagName("img")[0].src&&(c.img=o.getElementsByTagName("img")[0].src),c.newsProvider=o.querySelector(".lh > font").textContent,o.querySelectorAll(".lh > font")[1]&&(c.description=o.querySelectorAll(".lh > font")[1].textContent),l.items.push(c)}return a||cjExtensions.cache.set("bm__cache__news__"+e.topic+"-"+e.ned,l.items),l})):n(e.topic,e.ned).then(function(a){return e.noCache=!0,a?{items:a,freshRequest:function(){return i(e)}}:i(e)})}function s(e){var a=cjMaterial.createElement("item"),n=document.createElement("img");n.className="news-item__thumbnail",n.src=e.img||"/pages/news/default.svg",a.appendChild(n);var l=document.createElement("div");l.className="cj-md-item__body",a.appendChild(l);var t=document.createElement("div");t.className="cj-md-item__header",t.textContent=e.title,l.appendChild(t);var i=document.createElement("div");return i.className="cj-md-secondarytext",i.textContent=e.newsProvider,l.appendChild(i),a}function c(e){var a=cjMaterial.createElement("card",{withPadding:!0});a.classList.add("news-card");var n=document.createElement("header");n.className="news-card__header";var l=document.createElement("div");l.className="news-card__main";var t=cjMaterial.createElement("title",{label:e.title});l.appendChild(t);var i=document.createElement("div");i.className="cj-md-secondarytext",i.textContent=e.newsProvider,l.appendChild(i);var s=document.createElement("p");if(s.className="news-card__description",s.textContent=e.description,n.appendChild(l),e.img){var c=document.createElement("div");c.className="news-card__thumbnail",c.style.backgroundImage="url('"+e.img+"')",n.appendChild(c)}return a.appendChild(n),a.appendChild(s),a}function r(e){var a;return a=x?s(e):c(e),a.addEventListener("click",function(){bmBasics.openTab(e.url)}),a}function o(a){y.textContent="",j.forEach(function(e){var a=r(e);y.appendChild(a)}),a&&bmBasics.toggleLoading("off",e)}function u(e){j=e.items,e.freshRequest&&e.freshRequest().then(u),o(!j.freshRequest)}function d(){bmBasics.toggleLoading("on",e),I?i({q:B.value,ned:p}).then(u):i({topic:N,ned:p}).then(u)}function m(){var e=cjMaterial.createElement("drawer",{color:A}),a=bmElements.createElement("servicelogo",{label:cjExtensions.i18n("cj_i18n_00425","News"),color:"#3f51b5"});return e.appendChild(a),e.tabs=bmElements.createElement("drawertabs",{items:R,onChange:function(e){N=e,d(),k.textContent=R[e].label},selected:P?"b":"h"}),e.appendChild(e.tabs),e}function b(e){x=e,cjExtensions.settings.set("prefNewsListView",e),y.classList.toggle("cj-md-container--darker",!e),o()}function v(){var e=cjMaterial.createElement("appbar",{color:A,secondary:!0});S=cjMaterial.createElement("iconbutton",{iconName:"__mdi:menu",onClick:function(){return P?void window.top.financeSidenav.open():I?(I=!1,B.value="",S.updateIcon({iconName:"__mdi:menu"}),k.textContent=E,void d()):void T.open()}}),e.appendChild(S),k=cjMaterial.createElement("title",{label:P?cjExtensions.i18n("cj_i18n_00075","Market news"):R.h.label}),e.appendChild(k),C=cjMaterial.createElement("selectbox",{onChange:function(){var e=C.selected;cjExtensions.settings.set("news-edition",e),p=e,d()},options:z}),e.appendChild(C);var a=cjMaterial.createElement("iconbutton",{iconName:"__mdi:refresh",onClick:d});e.appendChild(a);var n=cjMaterial.createElement("iconbutton",{label:cjExtensions.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_list",onClick:function(){this.classList.add("on"),this.nextSibling.classList.remove("on"),b(!0)}});n.classList.add("view-button"),e.appendChild(n);var l=cjMaterial.createElement("iconbutton",{label:cjExtensions.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_stream",onClick:function(){this.classList.add("on"),this.previousSibling.classList.remove("on"),b(!1)}});return l.classList.add("view-button"),e.appendChild(l),cjExtensions.settings.get("prefNewsListView").then(function(e){return e||!1}).then(function(e){x=e,(x?n:l).classList.add("on")}),e}function _(e){L.searchmenu.hide(),I||(I=!0,E=k.textContent,k.textContent="Search",S.updateIcon({iconName:"__mdi:arrow_back"})),d({query:e})}function h(){bmBasics.toggleLoading("on",e);var n=document.createDocumentFragment(),l=v();y=cjMaterial.createElement("container",{scrollable:!0,shadow:!0,darker:!0}),cjExtensions.settings.get("prefNewsListView").then(function(e){x=e,e===!0&&y.classList.remove("cj-md-container--darker")}),P||(T=m(),L=bmElements.createElement("pageheader",{color:A,pageId:"news",includeSearchMenu:!0,searchboxProperties:{onClear:function(){L.searchmenu.hide()},onInput:t,onSubmit:_,onSubmitAlt:function(e){var a=cjBasics.urls.create("https://www.google.com/search",{q:e,tbm:"nws",authuser:g.account.authuser});bmBasics.openTab(a)}}}),M=cjMaterial.createElement("list"),M.classList.add("bm-ele-autocomplete"),M.addEventListener("click",function(e){var a=e.target.dataset.value;L.searchbox.value=a,_(a)}),L.searchmenu.appendChild(M),B=L.searchbox,n.appendChild(T),n.appendChild(L)),n.appendChild(l),n.appendChild(y),e.appendChild(n),P||q(B.select),cjExtensions.settings.get("news-edition").then(function(e){p=e||"auto",C.selected=p,N=P?"b":"h",d()}),a.setOpenInNewHandler(function(){var e={};f&&(e=JSON.parse(JSON.stringify(f)),delete e.output),e.authuser=g.account.authuser;var a=cjBasics.urls.create("https://news.google.com/news/section",e);bmBasics.openTab(a)})}var p,f,w,E,j,C,x,N,T,y,k,S,B,M,L,q=a.onPageDisplay,I=!1,U="https://news.google.com/news/section?authuser="+g.account.authuser+"&topic=",P=-1!==location.href.indexOf("embed-in-finance"),A=P?"#34a853":"#3f51b5",z=[{label:"Auto Detect",value:"auto",selected:!0},{label:"Argentina",value:"es_ar"},{label:"Australia",value:"au"},{label:"Belgique",value:"fr_be"},{label:"België",value:"nl_be"},{label:"Botswana",value:"en_bw"},{label:"Brasil",value:"pt-BR_br"},{label:"Canada English",value:"ca"},{label:"Canada Français",value:"fr_ca"},{label:"Chile",value:"es_cl"},{label:"Colombia",value:"es_co"},{label:"Cuba",value:"es_cu"},{label:"Deutschland",value:"de"},{label:"España",value:"es"},{label:"Estados Unidos",value:"es_us"},{label:"Ethiopia",value:"en_et"},{label:"France",value:"fr"},{label:"Ghana",value:"en_gh"},{label:"India",value:"in"},{label:"Indonesia",value:"id"},{label:"Ireland",value:"en_ie"},{label:"Israel",value:"en_il"},{label:"Italia",value:"it"},{label:"Kenya",value:"en_ke"},{label:"Magyarország",value:"hu_hu"},{label:"Malaysia",value:"en_my"},{label:"Moroc",value:"fr_ma"},{label:"México",value:"es_mx"},{label:"Namibia",value:"en_na"},{label:"Nederland",value:"nl_nl"},{label:"New Zealand",value:"nz"},{label:"Nigeria",value:"en_ng"},{label:"Norge",value:"no_no"},{label:"Pakistan",value:"en_pk"},{label:"Perú",value:"es_pe"},{label:"Philippines",value:"en_ph"},{label:"Polska",value:"pl_pl"},{label:"Portugal",value:"pt-PT_pt"},{label:"Schweiz",value:"de_ch"},{label:"Singapore",value:"en_sg"},{label:"South Africa",value:"en_za"},{label:"Suisse",value:"fr_ch"},{label:"Sverige",value:"sv_se"},{label:"Sénégal",value:"fr_sn"},{label:"Tanzania",value:"en_tz"},{label:"Thailand",value:"th"},{label:"Türkiye",value:"tr_tr"},{label:"U.S.",value:"us"},{label:"U.K.",value:"uk"},{label:"Uganda",value:"en_ug"},{label:"Venezuela",value:"es_ve"},{label:"Việt Nam (Vietnam)‎",value:"vi_vn"},{label:"Zimbabwe",value:"en_zw"},{label:"Österreich",value:"de_at"},{label:"Česká republika",value:"cs_cz"},{label:"Ελλάδα (Greece)",value:"el_gr"},{label:"Россия (Russia)",value:"ru_ru"},{label:"Србија (Serbia)",value:"sr_rs"},{label:"Украина (Ukraine)",value:"ru_ua"},{label:"Україна (Ukraine)",value:"uk_ua"},{label:"ישראל (Israel)",value:"iw_il"},{label:"الإمارات (UAE)",value:"ar_ae"},{label:"السعودية (KSA)",value:"ar_sa"},{label:"العالم العربي (Arab world)",value:"ar_me"},{label:"لبنان (Lebanon)",value:"ar_lb"},{label:"مصر (Egypt)",value:"ar_eg"},{label:"भारत (India)",value:"hi_in"},{label:"தமிழ்(India)",value:"ta_in"},{label:"తెలుగు (India)",value:"te_in"},{label:"മലയാളം (India)",value:"ml_in"},{label:"中国版 (China)",value:"cn"},{label:"台灣版 (Taiwan)",value:"tw"},{label:"日本 (Japan)",value:"jp"},{label:"香港版 (Hong Kong)",value:"hk"},{label:"한국 (Korea)",value:"kr"}],R={h:{iconName:"__mdi:news",newTabUrl:U+"h",label:cjExtensions.i18n("cj_i18n_00020","Top Stories")},w:{iconName:"__mdi:language",newTabUrl:U+"w",label:cjExtensions.i18n("cj_i18n_00021","World")},n:{iconName:"__mdi:flag",newTabUrl:U+"n",label:cjExtensions.i18n("cj_i18n_00022","Your Country")},b:{iconName:"__mdi:business",newTabUrl:U+"b",label:cjExtensions.i18n("cj_i18n_00023","Business")},t:{iconName:"__mdi:phonelink",newTabUrl:U+"t",label:cjExtensions.i18n("cj_i18n_00024","Sci/Tech")},e:{iconName:"__mdi:theaters",newTabUrl:U+"e",label:cjExtensions.i18n("cj_i18n_00025","Entertainment")},s:{iconName:"__mdi:news",newTabUrl:U+"s",label:cjExtensions.i18n("cj_i18n_00026","Sports")},m:{iconName:"__mdi:favorite",newTabUrl:U+"m",label:cjExtensions.i18n("cj_i18n_00027","Health")},po:{iconName:"__mdi:trending_up",newTabUrl:U+"po",label:cjExtensions.i18n("cj_i18n_00028","Popular")}};h()}});