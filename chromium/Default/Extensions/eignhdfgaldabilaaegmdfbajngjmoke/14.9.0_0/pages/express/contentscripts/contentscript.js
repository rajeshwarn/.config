!function(){"use strict";function e(e){window.parent.postMessage({blackMenuOpenUrl:e},"*")}function n(e){var n=new URL(e),t=n.origin+n.pathname,r=n.search.replace("?","").split("&").filter(function(e){return!e.startsWith("bm_")}).join("&");r.length>2&&(t+="?"+r);var a=n.hash;return a.startsWith("#")&&(a=a.replace("#","")),a.length>1&&(t+="#"+a),t}function t(t){if(a!==!0){a=!0;var r=n(t);e(r)}}function r(e){t(location.href),e.stopPropagation(),e.preventDefault(),window.removeEventListener("beforeunload",r)}var a=!1;window.addEventListener("message",function(e){var n=e.data,r=n.method;"expressOpenInNew"===r&&t(location.href)}),window.addEventListener("beforeunload",r)}();