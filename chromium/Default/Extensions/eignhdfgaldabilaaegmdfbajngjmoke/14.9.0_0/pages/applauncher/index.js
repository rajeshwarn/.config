cjModules.define(function(){"use strict";return function(e,t){function n(){d.querySelector(".cj-md-item:not(.off)").click()}function a(e){var t=e.dataset.id;cjExtensions.settings.get("serviceClicks").then(function(e){var n=e||{};n[t]||(n[t]=0),n[t]+=1,cjExtensions.settings.set("serviceClicks",n);var a=u[t],r=g.account.authuser,i=g.account.pageid;return g.signedIn&&a.authuserUrl&&("0"!==r||"none"!==i&&a.pageidUrl||a.useAuthuserWhenPrimary)?"none"!==i&&a.pageidUrl?void bmBasics.openTab(a.pageidUrl.replace("[authuser]",r).replace("[pageid]",i)):void bmBasics.openTab(a.authuserUrl.replace("[authuser]",r)):void bmBasics.openTab(a.url)})}function r(){return cjBasics.ajax({url:"/services.json",dataType:"JSON"}).then(function(e){u=e})}function i(){return r().then(function(){var e=[];for(var t in u){var n=u[t];if(n.url){var a=n.name,r=cjExtensions.i18n(n.i18n,a);n.name=r,n.query=(a+" "+r+" "+n.url.replace("/"," ").replace("."," ").replace("#"," ")).toLowerCase(),e.push(t)}}return e})}function c(){var e=cjExtensions.settings.get("serviceClicks"),t=i();return Promise.all([e,t]).then(function(e){var t=e[0]||{},n=e[1];return n.sort(function(e,n){var a=t[e]||0,r=t[n]||0;if(a===r){var i=h.indexOf(parseInt(e,10));-1===i&&(i=5e3);var c=h.indexOf(parseInt(n,10));return-1===c&&(c=5e3),i===c?u[e].name>u[n].name?1:-1:i>c?1:-1}return r>a?1:-1}),n})}function o(e){var t=u[e],n=cjMaterial.createElement("item");n.dataset.id=e,n.title=t.name;var a=cjMaterial.createElement("icon",{serviceName:t.icon||"placeholder",svgSize:48,size:48});n.appendChild(a);var r=document.createElement("div");return r.className="cj-md-item__body",r.textContent=t.name,n.appendChild(r),n}function s(e){var t,n=d.querySelectorAll(".cj-md-item");if("undefined"!=typeof e&&""!==e){var a=e.toLowerCase();for(t=0;t<n.length;t++)n[t].classList.toggle("off",-1===u[n[t].dataset.id].query.indexOf(a))}else for(t=0;t<n.length;t++)n[t].classList.remove("off")}function l(){var t=cjMaterial.createElement("appbar",{light:!0});m=bmElements.createElement("searchbox",{label:cjExtensions.i18n("cj_i18n_00346","Search Google shortcuts"),onSubmit:n,onInput:s,onClear:s}),p(m.select),t.appendChild(m),e.appendChild(t),d=cjMaterial.createElement("container",{scrollable:!0,shadow:"onScroll"});var r=cjMaterial.createElement("subheader",{label:cjExtensions.i18n("cj_i18n_00347","To add/remove items to the extension, click on add at the bottom of the black menu")});d.appendChild(r);var i=document.createElement("ul");i.className="bm-ele-shortcutlist bm-ele-shortcutlist--with-borders",i.addEventListener("click",function(e){e.target.parentNode===i&&a(e.target)}),c().then(function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++){var a=o(e[n]);t.appendChild(a)}i.appendChild(t)}),d.appendChild(i),e.appendChild(d)}var u,d,m,p=t.onPageDisplay,h=[59,160,172,27,48,144,101,109,157,178,97,89,82,175,295,39,11,70,96,69,4,180,46,31,128,154,23,54,21,176,158,140,218,232,93,6,43,125,33,130,156,116,299,155,129,152,182,60,79,177,171,179,359,65,16,272,298,63,133,162,185,56,167,246,261,280,71,164,215,24,5,114,170,241,28,108,174,49,61,68,73,75,10,104,300,35,377,90,107,207,216,234,242,333,375,80,113,132,247,287,307,311,334,103,106,147,217,243,317,34,42,62,1,110,17,202,214,219,222,236,271,276,288,289,291,30,316,353,362,365,55,57,100,115,126,137,139,149,15,153,161,192,201,221,237,244,286,294,301,306,308,310,320,330,346,366,370,40,45,50,52,77,85,87,99,118,120,127,142,188,194,196,197,2,20,204,205,208,210,211,213,223,226,235,240,248,251,252,253,254,256,264,265,267,268,270,273,274,275,277,279,281,293,296,297,304,305,318,32,321,325,326,328,331,332,347,350,351,357,369,371,373,53,64,78,91];l()}});