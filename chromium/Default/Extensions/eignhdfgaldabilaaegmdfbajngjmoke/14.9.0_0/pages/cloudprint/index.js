cjModules.define(function(){"use strict";return function(e,t){function n(e){bmBasics.openTab("https://www.google.com/cloudprint?user="+g.account.authuser+"#jobs/"+e)}function a(e){return cjBasics.ajax({url:e,dataType:"JSON",requestHeaders:{"X-CloudPrint-Proxy":"Google-JS"}})}function c(e){var t="https://www.google.com/cloudprint/jobs?authuser="+g.account.authuser;return e.q&&(t+="&q="+e.q),a(t).then(function(e){return e.jobs})}function i(e){var t="https://www.google.com/cloudprint/search?authuser="+g.account.authuser;return e.q&&(t+="&q="+e.q),a(t).then(function(e){return e.printers})}function o(e){var t=new Date(e),n=[t.getFullYear(),t.getMonth(),t.getDate()];return bmBasics.createDate(n)}function r(e){var t=cjMaterial.createElement("item");t.addEventListener("click",function(){bmBasics.openTab("https://www.google.com/cloudprint?user="+g.account.authuser+"#printers/"+e.id)});var n={ANDROID_CHROME_SNAPSHOT:"chrome",DRIVE:"drive"},a=cjMaterial.createElement("icon",{serviceName:n[e.type]||"cloudprint"});t.appendChild(a);var c=document.createElement("div");c.className="cj-md-item__body";var i=document.createElement("div");i.className="cj-md-item__header",i.textContent=e.displayName,c.appendChild(i);var o=[];if(e.ownerId===g.account.email&&o.push(cjExtensions.i18n("cj_i18n_00013","owned by me")),"UNKNOWN"!==e.connectionStatus&&o.push(e.connectionStatus),0===o.length){var r=document.createElement("div");r.className="cj-md-secondarytext";var l=o.join(" - "),s=document.createTextNode(l);r.appendChild(s),c.appendChild(r)}return t.appendChild(c),t}function l(){var e=h.pages.printers;e.textContent="",i({q:j}).then(function(t){if(0===t.length){var n=cjMaterial.createElement("emptystate",{color:"#4285f4",label:cjExtensions.i18n("cj_i18n_00372","No printers found"),subLabel:cjExtensions.i18n("cj_i18n_00373","You can add a printer by clicking the red button at the bottom"),iconName:"__mdi:print"});e.appendChild(n)}else{var a=cjMaterial.createElement("list");t.forEach(function(e){var t=r(e);a.appendChild(t)}),e.appendChild(a)}var c=cjMaterial.createElement("fab",{iconName:"__mdi:add",onClick:function(){bmBasics.openTab("https://support.google.com/cloudprint/answer/1686197?authuser="+g.account.authuser)}});e.appendChild(c),bmBasics.toggleLoading("off",e)})}function s(e){return E[e]||{name:"__mdi:drive_file",color:"#4285f4"}}function d(e){var t=cjMaterial.createElement("item");t.addEventListener("click",function(){n(e.id)});var a=s(e.contentType);a.withShell=!0;var c=cjMaterial.createElement("icon",a);t.appendChild(c);var i=document.createElement("div");i.className="cj-md-item__body";var r=document.createElement("div");r.className="cj-md-item__header",r.textContent=e.title,i.appendChild(r);var l=document.createElement("div");l.className="cj-md-secondarytext";var d=o(JSON.parse(e.createTime)),u=document.createTextNode(cjExtensions.i18n("cj_i18n_00011","created")+": "+d+" - "+cjExtensions.i18n("cj_i18n_00012","status")+": "+e.status);return l.appendChild(u),i.appendChild(l),t.appendChild(i),t}function u(){bmBasics.toggleLoading("on",h.pages.jobs),c({q:j}).then(function(e){var t=h.pages.jobs;if(t.textContent="",0===e.length){var n=cjMaterial.createElement("emptystate",{color:"#4285f4",label:cjExtensions.i18n("cj_i18n_00374","No print jobs found"),iconName:"__mdi:print"});t.appendChild(n)}else{var a=cjMaterial.createElement("list");e.forEach(function(e){var t=d(e);a.appendChild(t)}),t.appendChild(a)}bmBasics.toggleLoading("off",h.pages.jobs)})}function p(){j=f.value,u(),l()}function m(){b={jobs:{label:cjExtensions.i18n("cj_i18n_00052","Print Jobs"),content:function(){return cjMaterial.createElement("container",{scrollable:!0,shadow:!0})},loadOnInit:!0},printers:{label:cjExtensions.i18n("cj_i18n_00053","Printers"),content:function(){return cjMaterial.createElement("container",{scrollable:!0,shadow:!0})},loadOnInit:!0}};var n=bmElements.createElement("pageheader",{color:"#4285f4",pageId:"cloudprint",searchboxProperties:{onSubmit:p,onSubmitAlt:function(e){var t="https://www.google.com/cloudprint?user="+g.account.authuser+"#"+v.selected+"?q="+encodeURIComponent(e);bmBasics.openTab(t)}}});f=n.searchbox,e.appendChild(n),_(f.select);var a=cjMaterial.createElement("appbar",{color:"#4285f4",secondary:!0}),c="jobs";v=cjMaterial.createElement("tabs",{fill:!0,items:b,onChange:function(e){f.value!==j&&p(),h.selected=e},selected:c}),a.appendChild(v),e.appendChild(a),h=bmElements.createElement("multiplecontainer",{items:b,selected:c}),e.appendChild(h),p(),t.setOpenInNewHandler(function(){var e="https://www.google.com/cloudprint?user="+g.account.authuser+"#"+v.selected;bmBasics.openTab(e)})}var h,f,j,b,v,_=t.onPageDisplay,E={"application/pdf":{name:"__mdi:drive_pdf",color:"#ea4335"},"text/plain":{name:"__mdi:drive_text",color:"#4285f4"}};m()}});