cjModules.define(function(){"use strict";return function(e){function t(){var e=document.createElement("div");e.className="account-top",e.dataset.authuser=g.account.authuser,e.dataset.pageid=g.account.pageid;var t=cjMaterial.createElement("icon",{withShell:!0,color:"#fff",size:72,url:g.account.photo+"?sz="+(cjBasics.isRetina?"144":"72")});e.appendChild(t);var a=document.createElement("div");a.className="account-details";var n=document.createElement("div");n.className="account-name",n.textContent=g.account.name,a.appendChild(n);var c=document.createElement("div");c.className="account-email",c.textContent="none"===g.account.pageid?g.account.email:"Brand Account",a.appendChild(c);var i=cjMaterial.createElement("button",{label:cjExtensions.i18n("cj_i18n_00419","My account"),onClick:function(){bmRuntime.servicePageData.gsettings?bmRuntime.changeToPage("gsettings"):bmBasics.openTab("https://myaccount.google.com/u/"+g.account.authuser+"/b/"+g.account.pageid+"/")}});a.appendChild(i);var o=cjMaterial.createElement("button",{label:cjExtensions.i18n("cj_i18n_00161","About me"),onClick:function(){bmRuntime.servicePageData.aboutme?bmRuntime.changeToPage("aboutme"):bmBasics.openTab("https://aboutme.google.com/u/"+g.account.authuser+"/b/"+g.account.pageid+"/")}});return a.appendChild(o),e.appendChild(a),e}function a(e){var t=cjMaterial.createElement("item");t.dataset.authuser=e.authuser,t.dataset.pageid=e.pageid;var a=cjMaterial.createElement("icon",{withShell:!0,color:"#fff",size:40,url:e.photo+"?sz="+(cjBasics.isRetina?"80":"40")});t.appendChild(a);var n=document.createElement("div");n.className="cj-md-item__body";var c=document.createElement("div");c.className="cj-md-item__header",c.textContent=e.name,n.appendChild(c);var i=document.createElement("div");return i.className="cj-md-secondarytext",i.textContent="none"===e.pageid?e.email:cjExtensions.i18n("cj_i18n_00363","Brand account"),n.appendChild(i),t.appendChild(n),t}function n(e,t){var n=a(e);return n.addEventListener("click",function(){n.classList.contains("active")?t.classList.remove("on"):g.accounts.change(e)}),n}function c(a){var c=t();e.appendChild(c);for(var i=cjMaterial.createElement("container",{scrollable:!0,shadow:!0}),l=cjMaterial.createElement("list"),s=0;s<a.length;s++)if(g.account.key!==a[s].key&&(o||"none"===a[s].pageid)){var u=n(a[s],i);l.appendChild(u)}i.appendChild(l),e.appendChild(i);var d=document.createElement("div");d.className="account-bottom";var r=cjMaterial.createElement("button",{label:cjExtensions.i18n("cj_i18n_00361","Add account"),onClick:g.accounts.add});d.appendChild(r);var m=cjMaterial.createElement("button",{label:cjExtensions.i18n("cj_i18n_00362","Sign out all accounts"),onClick:g.accounts.signout});d.appendChild(m),e.appendChild(d)}function i(){g.initialized.then(function(){return g.accounts.list()}).then(c)}var o=bmRuntime.portalOnSide||bmRuntime.servicePageData[bmRuntime.standaloneService].gplusPages;if(!bmRuntime.portalOnSide){var l=cjMaterial.createElement("iconbutton",{iconName:"__mdi:close",onClick:function(){e.classList.remove("on")}});l.classList.add("bm-close-popup-button"),e.appendChild(l)}i()}});