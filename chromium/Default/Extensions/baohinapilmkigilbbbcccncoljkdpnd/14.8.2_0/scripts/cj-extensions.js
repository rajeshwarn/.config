!function(){"use strict";function n(){return new Promise(function(n){r.tabs.query({currentWindow:!0,active:!0},function(t){n(t[0])})})}function t(n,t){return r.i18n&&r.i18n.getMessage&&r.i18n.getMessage(n)||t||""}function e(n){var t="sync"===n&&i,e="__sync_storage__",o=t?"local":n,c=r.storage[o];return{get:function(n){return new Promise(function(r){if(!t)return void c.get(n,function(t){r("string"==typeof n?t[n]:t)});if("string"==typeof n){var i=e+n;return void c.get(i,function(n){r(n[i])})}if(Array.isArray(n)){var o=n.map(function(n){return e+n});return void c.get(o,function(n){var t={};Object.keys(n).forEach(function(r){t[r.replace(e,"")]=n[r]}),r(t)})}c.get(null,function(n){var t={};Object.keys(n).forEach(function(r){r.startsWith(e)&&(t[r.replace(e,"")]=n[r])}),r(t)})})},set:function(n,r){return new Promise(function(i){var o={};t?"string"==typeof n?o[e+n]=r:Object.keys(n).forEach(function(t){o[e+t]=n[t]}):"string"==typeof n?o[n]=r:o=n,c.set(o,i)})},remove:function(n){return new Promise(function(r){var i=[];t?"string"==typeof n?i=e+n:Object.keys(n).forEach(function(n){i.push(e+n)}):i=n,c.remove(i,r)})},clear:function(){return new Promise(function(n){return t?void c.get(null,function(t){var r=Object.keys(t).filter(function(n){return n.startsWith(e)});c.remove(r,n)}):void c.clear(n)})}}}var r=window.chrome,i=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");window.cjExtensions={i18n:t,runtimeId:r.runtime&&r.runtime.id,getCurrentTab:n,cache:e("local"),settings:e("sync")}}();