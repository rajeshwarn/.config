!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}({0:function(e,t,r){e.exports=r(80)},4:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=n(o);i.default.incr=function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],r=this.get(e,0)+t;return this.set(e,r),r},t.default=i.default,e.exports=t.default},5:function(e,t,r){!function(r,n){"undefined"!=typeof e&&e.exports&&(t=e.exports=n(r,t))}(this,function(e,t){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,r=Number(arguments[1])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=t);r<t;r++)if(r in this&&this[r]===e)return r;return-1}),t.prefix="",t._getPrefixedKey=function(e,t){return t=t||{},t.noPrefix?e:this.prefix+e},t.set=function(e,t,r){var n=this._getPrefixedKey(e,r);try{localStorage.setItem(n,JSON.stringify({data:t}))}catch(e){console}},t.get=function(e,t,r){var n,o=this._getPrefixedKey(e,r);try{n=JSON.parse(localStorage.getItem(o))}catch(e){try{n=localStorage[o]?JSON.parse('{"data":"'+localStorage.getItem(o)+'"}'):null}catch(e){console}}return null===n?t:"undefined"!=typeof n.data?n.data:t},t.sadd=function(e,r,n){var o,i=this._getPrefixedKey(e,n),a=t.smembers(e);if(a.indexOf(r)>-1)return null;try{a.push(r),o=JSON.stringify({data:a}),localStorage.setItem(i,o)}catch(e){console}},t.smembers=function(e,t){var r,n=this._getPrefixedKey(e,t);try{r=JSON.parse(localStorage.getItem(n))}catch(e){r=null}return null===r?[]:r.data||[]},t.sismember=function(e,r,n){this._getPrefixedKey(e,n);return t.smembers(e).indexOf(r)>-1},t.getAll=function(){var e=Object.keys(localStorage);return e.map(function(e){return t.get(e)})},t.srem=function(e,r,n){var o,i,a=this._getPrefixedKey(e,n),s=t.smembers(e,r);i=s.indexOf(r),i>-1&&s.splice(i,1),o=JSON.stringify({data:s});try{localStorage.setItem(a,o)}catch(e){console}},t.rm=function(e){localStorage.removeItem(e)},t.flush=function(){localStorage.clear()},t})},11:function(e,t){"use strict";function r(e,t,r,o,i){n.push(["_trackEvent",e,t,r,o,i])}Object.defineProperty(t,"__esModule",{value:!0}),t.trackEvent=r;var n=window._gaq=[];n.push(["_setAccount","UA-55554816-1"]);var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://ssl.google-analytics.com/ga.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i),t.default=n},64:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return(0,l.default)().then().then(function(e){e&&(0,d.isEnabledByUser)().then(function(e){e&&i()})})}function i(){return f||(r(67),window.onBestPriceFirstRun(a),t.initialized=f=!0),!0}function a(){chrome.tabs.executeScript({file:"scripts/content.comprigo-firstrun.js",runAt:"document_end"})}function s(){(0,p.trackEvent)("Comprigo","user-disabled",chrome.runtime.getManifest().version),chrome.storage.local.set({comprigoEnabled:!1},function(){return u()})}function c(){(0,p.trackEvent)("Comprigo","user-enabled",chrome.runtime.getManifest().version),chrome.storage.local.set({comprigoEnabled:!0},function(){return u()}),window.localStorage.setItem("cpgBestPriceDisabled",JSON.stringify(!1))}function u(){chrome&&chrome.runtime&&chrome.runtime.reload?chrome.runtime.reload():chrome.runtime.sendMessage({action:"RELOAD"})}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=o,t.disable=s,t.enable=c;var d=r(65),l=n(d),p=r(11),f=!1;t.initialized=f;var g=d.isEnabledByUser;t.isEnabled=g,t.default=window.comprigo={initialize:o,disable:s,enable:c}},65:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return new Promise(function(e){var t=new window.Image;t.onload=function(){return e(!1)},t.onerror=function(){return e(!0)},t.src="chrome-extension://gbkjddnnlgmahpnjjkiolhoophlpibfn/img/Pricescout_38x38.png"})}function i(){return new Promise(function(e){return chrome.storage.local.get(d.default,function(t){var r=t.comprigoEnabled;return e(r)})})}function a(){return"de"!==navigator.language.split("-")[0]}function s(){var e=864e5,t=Math.floor(Math.random()*e*35)+1,r=1*e+t;return new Promise(function(e){chrome.storage.local.get("cinstallDate",function(t){var n=t.cinstallDate;return window.localStorage.cmpFirstTimeActive||window.localStorage.browserAppBase_ustrda?e(!0):n?void e(n<Date.now()):(chrome.storage.local.set({cinstallDate:Date.now()+r}),e(!1))})})}function c(){var e=[a,o,s];return Promise.all(e.map(function(e){return e()})).then(function(e){var t=!e.some(function(e){return!e});return t})}Object.defineProperty(t,"__esModule",{value:!0}),t.pricescoutIsNotInstalled=o,t.isEnabledByUser=i,t.isRightLocale=a,t.isInstallTimeoutOver=s,t.default=c;var u=r(66),d=n(u)},66:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={comprigoEnabled:!0},e.exports=t.default},67:function(e,t){"use strict";var r={browserSpecific:{gc:{}},shared:{},index:{}};r.browserSpecific.gc.logger=function(){var e={exports:{}},t=function(){var e={};return{getLogger:function(t){return e[t]||(e[t]=function(e){}),e[t]}}}();return e.exports=t,e.exports}(),r.shared.logger=function(){var e={exports:{}},t=r.browserSpecific.gc.logger;return e.exports=t,e.exports}(),r.browserSpecific.gc.storage=function(){var e={exports:{}},t=r.shared.logger,n=t.getLogger("storage.js"),o=function(e){return"browserAppBase_"+e},i=function(e,t){if(e=o(e),localStorage[e])try{return n("Value extracted successfully, returning."),JSON.parse(localStorage[e])}catch(e){n("Error: error with JSON parse.")}return void 0===t?null:t},a=function(e,t){var r=JSON.stringify(t);e=o(e),localStorage[e]=r},s={get:function(e,t){var r,n={};for(r in e)if(e.hasOwnProperty(r)){var o=i(r,e[r]);void 0===o?o=e[r]:n[r]=o}t&&t(n)},set:function(e,t){var r;for(r in e)if(e.hasOwnProperty(r))try{a(r,e[r])}catch(e){}t&&t(e)}};return e.exports=s,e.exports}(),r.shared.isSupportedShop=function(){var e={exports:{}},t=r.shared.logger,n=(t.getLogger("isSupportedShop.js"),function(e){return e.replace(/^https?:\/\//i,"").replace(/\/.*/,"")}),o=function(e){if(!e.match(/^https?:\/\//i))return!1;for(blockedShop in r.shared.blockedShops){for(var t=blockedShop.split(".");t.length>1;)delete r.domains.obj[t.join(".")],t.splice(0,1);delete r.shared.blockedShops[blockedShop]}for(var o=n(e),i=!1,a=o.split(".");a.length>1&&!i;){if(i=r.domains.obj[a.join(".")]){var s=a.join("."),c=new RegExp(r.domains.obj[s]);return!!e.match(c)&&{regex:r.domains.obj[s],domain:s}}a.splice(0,1)}return!1};return e.exports=o,e.exports}(),r.shared.time=function(){var e={exports:{}},t={stamp:function(e){var t;return e===!0?(t=new Date,t.getTime()+6e4*t.getTimezoneOffset()):(t=new Date,Math.round(t.getTime()/1e3)+60*t.getTimezoneOffset())},dateString:function(){return(new Date).toDateString()},dayPassedSince:function(e){var t=this.stamp()-e;return t>86400},past4am:function(){var e=new Date,t=e.getHours();return t-4>0}};return e.exports=t,e.exports}(),r.browserSpecific.gc.onNavigate=function(){var e={exports:{}},t=[],r=!1;chrome.tabs.onUpdated.addListener(function(e,n,o){if(r&&!JSON.parse(localStorage.getItem("cpgBestPriceDisabled"))&&"complete"===n.status)for(var i=0;i<t.length;i++)t[i](o,o.url)});var n={register:function(e){t.push(e)},unregister:function(e){var r=t.indexOf(e);r!==-1&&t.splice(r,1)},enable:function(){r=!0},disable:function(){r=!1}};return e.exports=n,e.exports}(),r.browserSpecific.gc.setGoodbyePage=function(){var e={exports:{}},t=function(e){};return e.exports=t,e.exports}(),r.browserSpecific.gc.injectContentScript=function(){var e={exports:{}},t=r.shared.logger,n=(t.getLogger("inject-script.js"),function(e){chrome.tabs.executeScript(e.id,{file:"scripts/content.comprigo.js",runAt:"document_end"})});return e.exports=n,e.exports}(),r.browserSpecific.gc.ajax=function(){var e={exports:{}},t=r.shared.logger,n=(t.getLogger("ajax.js"),function(e,t,r){try{if(!e||!t)return;r||(r={}),r.headers||(r.headers={}),r.postStr||(r.postJSobj?r.postStr=JSON.stringify(r.postJSobj):r.postStr=null);var n=r.postStr?"POST":"GET",o=new XMLHttpRequest;o.open(n,e,!0),o.overrideMimeType("text/plain"),o.setRequestHeader("Content-type","application/json");var i;for(i in r.headers)o.setRequestHeader(i,r.headers[i]);o.onreadystatechange=function(){4===o.readyState&&t(o)},o.send(r.postStr)}catch(e){}}),o=function(e,t){n(e,function(e){var r={};try{r=JSON.parse(e.responseText)}catch(e){}t(r)})};return e.exports=o,e.exports}(),r.shared.config=function(){var e={exports:{}},t=function(){var e=function(){var e="comp",t="rigo";return e+t}(),t=function(){var t="https",r="rules."+e+".com",n="v1.0";return{baseUrl:t+"://"+r+"/"+n}}(),r=function(){return"http://external-rules."+e+".com/inline/v2/returnCookies"}();return{rootDomain:e,optIn:!1,partner:{pid:1300,subid:"v15"},rulesApp:t,instTrUrl:"https://installation-tracking.herokuapp.com/tracking/<PID>/install/?subid=",gbyUrlBase:"http://pricescout.io/sorry-to-see-you-go",inlineCookieEndpoint:r}}();return e.exports=t,e.exports}(),r.ustrda=function(){return new Promise(function(e,t){r.browserSpecific.gc.storage.get({ustrda:{}},function(n){var o=r.config.instTrUrl,i=r.config.gbyUrlBase;"object"!=typeof n.ustrda||0!==Object.keys(n.ustrda).length?(i+="?bata="+n.ustrda,e(i)):r.browserSpecific.gc.ajax(o,function(e){r.browserSpecific.gc.storage.set({ustrda:e.bata}),t()})})})},r.partnerData=function(){function e(e){var t=e.pid,r=e.subid,n=e.tid,o=e.conversionURL;return o?(o.indexOf("<PID>")>-1&&(o=o.replace("<PID>",t)),o.indexOf("<SUBID>")>-1&&(o=o.replace("<SUBID>",r)),o.indexOf("<TID>")>-1&&(o=o.replace("<TID>",n)),o):null}var t={exports:{}},n={basic:r.shared.config.partner,details:{}};return t.exports=function(){return new Promise(function(t,o){setTimeout(function(){r.browserSpecific.gc.storage.get({inlineCookieData:{}},function(o){var i=!0;if("object"!=typeof o.inlineCookieData||0!==Object.keys(o.inlineCookieData).length)try{i=0===Object.keys(JSON.parse(decodeURIComponent(atob(o.inlineCookieData)))).length&&decodeURIComponent(atob(o.inlineCookieData))===JSON.stringify({})}catch(e){i=!0}var a=i?"":"?rookie="+atob(o.inlineCookieData);r.browserSpecific.gc.ajax(r.shared.config.inlineCookieEndpoint+a,function(o){o.redexuserdata&&(o.redexuserdata.pid&&(n.basic.pid=o.redexuserdata.pid,n.basic.subid=o.redexuserdata.subid?o.redexuserdata.subid:n.basic.subid),o.redexuserdata.tid&&o.redexuserdata.conversionURL?(n.details.tid=o.redexuserdata.tid,n.details.conversionURL=e(o.redexuserdata)):n.details.conversionURL=r.shared.config.instTrUrl.replace("<PID>",n.basic.pid)+n.basic.subid,r.browserSpecific.gc.storage.set({inlineCookieData:btoa(encodeURIComponent(JSON.stringify(o)))})),t(n)})})},500)})}(),t.exports}(),r.index=function(){var e,t,n={exports:{}},o=function(){var t=function(){var t=JSON.parse(localStorage.getItem("cmpFirstTimeActive"));t||(localStorage.setItem("cmpFirstTimeActive",JSON.stringify(!0)),e())},r="complete"==window.document.readyState||"interactive"==window.document.readyState||"loaded"===window.document.readyState;r?t():document.addEventListener("DOMContentLoaded",function(e){t()})};return window.onBestPriceFirstRun=function(r){return t?void r():void(e=r)},chrome.runtime.onMessage.addListener(function(r,n){if("cpgGetAboutUrl"===r.request){var i=chrome.extension.getURL("pages/bestprice.html");window.open(i,"_blank")}if("cpgGetDisableUrl"===r.request){var a=chrome.extension.getURL("pages/bestprice-disabled.html");window.open(a,"_blank")}if("cpgDisableSelf"===r.request&&localStorage.setItem("cpgBestPriceDisabled",JSON.stringify(!0)),"cpgBestPriceFirstDisplay"===r.request){if(!e)return void(t=!0);o()}}),r.partnerData.then(function(e){r.partner=r.shared.config.partner,r.partner.pid=e.basic.pid,r.partner.subid=e.basic.subid,r.config=r.shared.config,r.log=r.shared.logger.getLogger("browserAppBase"),r.ajax=r.browserSpecific.gc.ajax,r.injectContentScript=r.browserSpecific.gc.injectContentScript,r.onNavigate=r.browserSpecific.gc.onNavigate,r.time=r.shared.time,r.isSupportedShop=r.shared.isSupportedShop,r.rulesApp=r.config.rulesApp,r.storage=r.browserSpecific.gc.storage,r.domains={},r.domains.obj={},r.domains.updating=!0,r.domains.update=function(){return new Promise(function(e,t){var n=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o=r.config.rulesApp.baseUrl+"/shops/0";r.log("Domains need to be updated. Sending request to: "+o),r.ajax(o,function(t){n(t)&&e("empty");var o=r.time.dateString();r.domains.obj=t.domains||r.domains.obj,r.domains.domainsDS=o,r.cj.domains=t["cj-domains"]||r.cj.domains,r.storage.set({domains:r.domains.obj,domainsDS:o}),r.domains.updating=!1,e("stored")})})},r.storage.get({domains:{},domainsDS:null},function(e){r.domains.obj=e.domains,r.domains.domainsDS=e.domainsDS,r.domains.updating=!1}),r.checkUpdate=function(){return new Promise(function(e,t){r.domains.updating&&e("updateInProgress");var n=r.time.dateString();r.domains.domainsDS!==n&&r.time.past4am()?(r.domains.updating=!0,r.storage.get({domains:{},domainsDS:null},function(){r.domains.update().then(function(t){e("updated")})})):(r.log("Domains don't need to be updated"),e("upToDate"))})},r.onNavigate.register(function(e,t){r.checkUpdate().then(function(n){var o=r.isSupportedShop(t);return o?(r.injectContentScript(e),void r.log("Injecting main.js into web site: "+o.domain)):void r.log("Not supported domain.")})}),r.enable=function(e,t){r.partner={pid:e,subid:t},r.onNavigate.registerListener()},r.disable=function(){r.onNavigate.removeListener()},e.details.conversionURL?r.config.instTrUrl=e.details.conversionURL:r.config.instTrUrl=r.config.instTrUrl.replace("<PID>",r.partner.pid)+r.partner.subid,chrome.runtime.onMessage.addListener(function(e,t){"partner-data"===e.request&&chrome.tabs.sendMessage(t.tab.id,{message:"partner-data",data:JSON.stringify(r.partner)})}),!localStorage.fdEnabled&&r.shared.config.optIn||(r.onNavigate.enable(),setTimeout(function(){!function e(){r.ustrda().then(function(e){},function(){setTimeout(function(){e()},5e3)})}()},1e3))}),n.exports}(),r.shared.blockedShops={},r.cj={},r.cj.domains={"anrdoezrs.net":1,"kqzyfj.com":1,"jdoqocy.com":1,"tkqlhce.com":1,"dpbolvw.net":1},r.cj.redirectColl={},r.cj.redirectIgnore={},chrome.webRequest.onBeforeRedirect.addListener(function(e){var t=e.url.replace(/^https?:/i,""),n=e.redirectUrl.replace(/^https?:/i,"");if(r.cj.redirectIgnore[t])return void delete r.cj.redirectIgnore[t];if(r.cj.redirectColl[t])return delete r.cj.redirectColl[t],void(r.cj.redirectColl[n]=1);var o=e.url.split("/");if("http:"===o[0]||"https:"===o[0]){var i=o[2].split(".");if(i.indexOf("comprigo")>-1){var a=e.redirectUrl.split("/");if("http:"!==a[0]&&"https:"!==a[0])return;for(var s=a[2].split(".");s.length>1;){if(r.cj.domains[s.join(".")]){r.cj.redirectIgnore[n]=1;break}s.splice(0,1)}}else for(;i.length>1;){if(r.cj.domains[i.join(".")]){r.cj.redirectColl[n]=1;break}i.splice(0,1)}}},{urls:["<all_urls>"]}),chrome.webRequest.onResponseStarted.addListener(function(e){var t=e.url.replace(/^https?:/i,"");if(r.cj.redirectColl[t]){for(var n=!0,o=0;o<e.responseHeaders.length;o++)if(/location/im.test(e.responseHeaders[o].name)){n=!1;break}if(n){delete r.cj.redirectColl[t];var i=t.split("/")[2];r.shared.blockedShops[i]=!0}}},{urls:["<all_urls>"]},["responseHeaders"])},80:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e){var t=e.target,r=t.name;chrome.extension.sendMessage({action:"TOGGLE_SETTING",setting:r},function(e){t.checked=e})}function a(e){var t=[].concat(o(document.querySelectorAll(e)));t.forEach(function(e){e.addEventListener("change",i),e.checked=p.default.get(e.name)})}function s(e){var t=[].concat(o(document.querySelectorAll(e)));t.forEach(function(e){e.addEventListener("change",function(e){var t=e.target;t.checked?(0,c.disable)():(0,c.enable)()}),(0,c.isEnabled)().then(function(t){e.checked=!t})})}var c=r(64),u=r(65),d=n(u),l=r(4),p=n(l);(0,d.default)().then(function(e){e&&(document.querySelector(".comprigo-option").style.display="block")}),a('.option [type="checkbox"]'),s('.comprigo-option [type="checkbox"]')}});