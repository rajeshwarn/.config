!function(){"use strict";function e(){return new Promise(function(e){E.get("disabledWebsites",function(t){e(t.disabledWebsites||[])})})}function t(e){var t=new XMLHttpRequest;t.open("GET",e.href),t.addEventListener("load",function(){var n=t.response;if(-1!==n.indexOf("::-webkit-scrollbar")){var o=document.createElement("style");o.textContent=n.replace(/::-webkit-scrollbar/g,"::-no-scrollbar"),e.parentNode.insertBefore(o,e),e.parentNode.removeChild(e)}}),t.send()}function n(){var e,n=document.querySelectorAll("style");for(e=0;e<n.length;e++){var o=n[e],a=o.textContent;-1!==a.indexOf("::-webkit-scrollbar")&&(o.textContent=a.replace(/::-webkit-scrollbar/g,"::-no-scrollbar"))}for(n=document.querySelectorAll('[rel="stylesheet"]'),e=0;e<n.length;e++)t(n[e])}function o(e){var t=document.querySelector("meta[name='theme-color']");t||(t=document.createElement("meta"),t.name="theme-color",document.head.appendChild(t)),t.content=e}function a(){function e(){var t=document.getElementById("gbsfw");if(t){var n=document.createElement("div");n.id="gbwa",t.parentNode.insertBefore(n,t.nextSibling)}else setTimeout(e,100)}e()}function i(){function e(){if(location.pathname.startsWith("/work"))return"work";var e=document.querySelector(".nav-list-item > a.selected");if(!e)return"default";var t=e.parentNode.classList;return t.contains("apps")?"apps":t.contains("music")?"music":t.contains("newsstand")||t.contains("magazines")?"newsstand":t.contains("devices")?"devices":t.contains("books")?"books":t.contains("movies")?"movies":"default"}function t(){var t=e();n!==t&&(n=t,o(i[t]||"#455A64"),document.documentElement.dataset.inkPlaystoreType=n)}var n="default",a={attributes:!0,childList:!1,characterData:!1},i={apps:"#34a853",music:"#ff5722",movies:"#ED3B3B",devices:"#658092",books:"#039BE5",work:"#00796B",newsstand:"#9c27b0","default":"#455A64"},c=new MutationObserver(t);b.then(function(){t();for(var e=document.querySelectorAll(".nav-list-item > a"),n=0;n<e.length;n++)c.observe(e[n],a)})}function c(){function e(){function t(){document.documentElement.dataset.inkLightTheme=-1===n.getAttribute("style").indexOf("#fb0")&&-1===n.getAttribute("style").indexOf("rgb(255, 187, 0)")?"0":"1"}var n=document.querySelector("#gb > div:nth-child(2)");if(n){var o=new MutationObserver(function(){t(),setTimeout(t),setTimeout(t,1e3),setTimeout(t,2e3)});o.observe(n,{attributes:!0,childList:!1,characterData:!1}),t(),setTimeout(t)}else setTimeout(e,100)}p.then(function(){n(),document.documentElement.dataset.inkLightTheme="1"}),e()}function d(){function e(){function t(){document.documentElement.dataset.inkTeamDrives="rgb(255, 255, 255)"===getComputedStyle(n)["background-color"]?"1":"0"}var n=document.querySelector('button[role="button"][guidedhelpid="new_menu_button"]');if(n){var o=new MutationObserver(function(){t(),setTimeout(t),setTimeout(t,1e3)});o.observe(n,{attributes:!0,childList:!0,characterData:!1})}else setTimeout(e,100)}e()}function r(){var e=new Promise(function(e){E.get("calendarShowWallpaper",function(t){e(t.calendarShowWallpaper)})});setInterval(function(){var e=document.querySelector("#dp_0 .dp-monthtable.monthtableBody .dp-onmonth, #dp_0 .dp-monthtable.monthtableBody .dp-onmonth-selected"),t=e.id.replace("dp_0_day_",""),n=parseInt(t,10),o=Math.floor(n%512/32);document.documentElement.dataset.inkMonth=o},1e3),p.then(function(){function t(){document.documentElement.dataset.inkInfoOpen=document.getElementById("maincell").classList.contains("has-sn-ex")?"1":"0"}function n(){var e=document.getElementById("maincell");if(e){t();var o=new MutationObserver(t);o.observe(e,{attributes:!0,childList:!1,characterData:!1})}else setTimeout(n)}document.documentElement.dataset.inkHideWallpaper="1",document.documentElement.dataset.inkInfoOpen="0";var o=localStorage.inkHideSidenav||"0";document.documentElement.dataset.inkHideSidenav=o;var a=document.createElement("div");a.className="ink-sidenav-button",a.addEventListener("click",function(){o="0"===o?"1":"0",document.documentElement.dataset.inkHideSidenav=o,localStorage.inkHideSidenav=o}),document.body.appendChild(a),document.documentElement.dataset.inkNarrowContent=-1!==location.hash.indexOf("main_7%7Csearch")||-1!==location.hash.indexOf("main_7%7Cday")?"1":"0",document.documentElement.dataset.inkSearchView=-1!==location.hash.indexOf("main_7%7Csearch")?"1":"0",e.then(function(e){document.documentElement.dataset.inkNoWallpaper=e?"0":"1"}),document.documentElement.dataset.inkHideWallpaper=-1!==location.hash.indexOf("eventpage_6")||-1!==location.hash.indexOf("settings-general_11")?"1":"0",window.addEventListener("hashchange",function(){document.documentElement.dataset.inkNarrowContent=-1!==location.hash.indexOf("main_7%7Csearch")||-1!==location.hash.indexOf("main_7%7Cday")?"1":"0",document.documentElement.dataset.inkSearchView=-1!==location.hash.indexOf("main_7%7Csearch")?"1":"0",document.documentElement.dataset.inkHideWallpaper=-1!==location.hash.indexOf("eventpage_6")||-1!==location.hash.indexOf("settings-general_11")?"1":"0"});var i=localStorage.inkViewCollapsed||"0";document.documentElement.dataset.inkViewCollapsed=i,document.body.addEventListener("click",function(e){var t=e.target;t.classList.contains("trans-strip")&&(i="0"===i?"1":"0",document.documentElement.dataset.inkViewCollapsed=i,localStorage.inkViewCollapsed=i)}),n()}),b.then(function(){var e="1"!==localStorage.inkCalendarCollapsed;e&&setTimeout(function(){localStorage.inkCalendarCollapsed="1";var e=document.querySelector("#clst_my.goog-zippy-expanded");e&&e.click();var t=document.querySelector("#clst_fav.goog-zippy-expanded");t&&t.click()},5e3)})}function s(){function e(){document.querySelector(".a4t")&&(document.documentElement.dataset.inkHasTheme="1")}b.then(function(){e(),setTimeout(e,1e3),setTimeout(e,3e3)})}function l(){function e(e){o(e?"#111":"#e62117"),document.documentElement.dataset.inkDarkMode=e||t?"1":"0",document.documentElement.dataset.inkTheaterMode=e?"1":"0"}var t=!1;E.get("youtubeUseRedMode",function(e){e.youtubeUseRedMode&&(t=!0,document.documentElement.dataset.inkDarkMode="1",document.documentElement.dataset.inkRedMode="1")}),b.then(function(){window.setInterval(function(){var t=document.getElementById("masthead-search-term");t&&(t.placeholder="Search");var n=document.getElementById("page"),o=document.body.scrollTop<480&&n&&n.classList.contains("watch-wide");e(o)},300)})}function u(e){var t=e||0;if(!(t>10)){var n=document.getElementById("gbqfq");if(n){var o=n.placeholder;o||(n.placeholder="Search")}else setTimeout(function(){u(t+1)},200)}}function m(e,t){var n=document.createElement("link");return n.rel="stylesheet",n.href=e,t?void t.appendChild(n):"hmanckoiohnlgdommlcckcflkmllobgj"===chrome.runtime.id?void document.documentElement.appendChild(n):void g.then(function(){var t=new XMLHttpRequest;t.open("GET",e),t.addEventListener("load",function(){var e=document.createElement("style");e.id="awesome";for(var n=t.responseText;-1!==n.indexOf("chrome-extension://hmanckoiohnlgdommlcckcflkmllobgj/");)n=n.replace("chrome-extension://hmanckoiohnlgdommlcckcflkmllobgj/",C);e.textContent=n,document.head.insertBefore(e,document.head.firstChild)}),t.addEventListener("error",function(){}),t.send()})}function f(e){var t=C+"assets/favicons/"+e+".ico",n=document.querySelector("[rel='shortcut icon']"),o=document.querySelector("[rel='icon']");if(!n&&!o){var a=document.createElement("link");return a.rel="shortcut icon",a.href=t,void document.head.appendChild(a)}n&&(n.href=t),o&&(o.href=t)}function h(){w.then(function(e){if(v)if(-1===e.indexOf(v)){var t=inkStyles[v];chrome.runtime.sendMessage({action:"show_page_action",websiteId:v}),t.file&&m(C+"assets/stylesheets/"+t.file+".css"),m(C+"assets/stylesheets/ink_fonts.css"),t.removeScrollbar&&p.then(n),t.callback&&S[t.callback](),t.favicon&&(g.then(function(){f(t.favicon)}),p.then(function(){f(t.favicon)}),setTimeout(function(){f(t.favicon)},2e3)),t.themeColor&&(g.then(function(){o(t.themeColor)}),p.then(function(){o(t.themeColor)})),t.setPlaceholder&&u()}else chrome.runtime.sendMessage({action:"show_page_action",websiteId:v,turnedOff:!0})})}var v,p,b,g,k,y=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),E=y?chrome.storage.local:chrome.storage.sync,w=e(),C=chrome.extension.getURL(""),S={playstore:i,keep:c,calendar:r,gmail:s,youtube:l,drive:d,bigquery:a,recaptcha:a};k=function(){function e(){document.documentElement?t():setTimeout(e,10)}var t;return new Promise(function(n){t=n,e()})}(),g=function(){function e(){document.head?t():setTimeout(e,10)}var t;return new Promise(function(n){t=n,e()})}(),p=function(){function e(){document.body?t():setTimeout(e,10)}var t;return new Promise(function(n){t=n,e()})}(),b=function(){return new Promise(function(e){window.addEventListener("DOMContentLoaded",e)})}(),v=getWebsiteId(),k.then(h)}();