!function(){"use strict";function e(){chrome.tabs.reload(),window.close()}function t(){return new Promise(function(e){h.get("disabledWebsites",function(t){e(t.disabledWebsites||[])})})}function n(e){var t=e.target.id;if(t&&"menu-item"===e.target.className){var n="https://carlosjeurissen.com/ink-for-google/"+p[t];chrome.tabs.create({url:n})}}function o(e){var t=document.createElement("div");t.className="switch-container";var n=document.createElement("div");n.className="switch-label",n.textContent=e.label,t.appendChild(n);var o=document.createElement("div");o.className="switch",t.appendChild(o);var a=document.createElement("input");a.type="checkbox",a.checked=e.checked,a.addEventListener("click",function(){e.onChange(a.checked)});var c=e.id||Math.round(Date.now()*Math.random()).toString();a.id=c,o.appendChild(a);var i=document.createElement("label");return i.htmlFor=c,i.style.color=e.color,o.appendChild(i),Object.defineProperty(t,"checked",{get:function(){return a.checked},set:function(e){a.checked=e}}),t}function a(){if(r){var n=document.createElement("div");n.className="switch-container";var a=document.createElement("div");return a.className="unsupported-label",a.textContent="This site is not supported",n.appendChild(a),void document.body.appendChild(n)}t().then(function(t){var n=o({checked:-1===t.indexOf(i),color:s,label:"Enable on this site",onChange:function(n){n?t.splice(t.indexOf(i),1):t.push(i),h.set({disabledWebsites:t},e)}});document.body.appendChild(n),inkStyles[i].settings&&inkStyles[i].settings.forEach(function(t){var n=t.id,a=o({checked:t.value===!0,color:s,label:t.label,onChange:function(t){var o={};o[n]=t,h.set(o,e)}});h.get(n,function(e){var t=e[n];a.checked=t}),document.body.appendChild(a)})})}function c(){var e=document.createElement("h1");e.textContent="Ink for Google",document.body.appendChild(e);var t=document.createElement("div");t.className="links-container",Object.keys(p).forEach(function(e){var n=document.createElement("div");n.className="menu-item",n.id=e,t.appendChild(n)}),t.addEventListener("click",n),document.body.appendChild(t),a()}var i=location.hash.replace("#",""),r=0===i.length,d=chrome.runtime.getManifest().version,s=inkStyles[i]?inkStyles[i].themeColor:"#4285f4",l=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),u=window.opr&&window.opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0,h=l?chrome.storage.local:chrome.storage.sync,m=l?"Firefox":u?"Opera":"Google Chrome",p={bug_report:"contact#bug_report|website-id: "+i+"%0Abrowser: "+m+"%0Aextension version: "+d+"%0Awhat went wrong: ",question:"contact#question",feature_request:"contact#feature_request",donate:"donate"};c()}();